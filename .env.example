# Discord Game Scheduler Environment Variables
# Copy this file to .env and fill in your values

# Docker Image Configuration
# Docker registry URL prefix (include trailing slash)
# Examples: 172-16-1-24.xip.boneheads.us:5050/, docker.io/myorg/, empty for local
IMAGE_REGISTRY=dockerhub.boneheads.us:5050/

# Image tag for built containers (default: latest)
# Examples: latest, v1.0.0, dev, staging
IMAGE_TAG=latest

# Discord Bot Configuration
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here
DISCORD_CLIENT_SECRET=your_client_secret_here
DISCORD_REDIRECT_URI=http://localhost:8000/api/v1/auth/callback

# Database Configuration
POSTGRES_USER=gamebot
POSTGRES_PASSWORD=dev_password_change_in_prod
POSTGRES_DB=game_scheduler
DATABASE_URL=postgresql+asyncpg://gamebot:dev_password_change_in_prod@postgres:5432/game_scheduler

# RabbitMQ Configuration
RABBITMQ_DEFAULT_USER=gamebot
RABBITMQ_DEFAULT_PASS=dev_password_change_in_prod
RABBITMQ_URL=amqp://gamebot:dev_password_change_in_prod@rabbitmq:5672/

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=change_this_to_random_secret_in_prod

# Frontend/API URLs (used by frontend at runtime)
# For local development: http://localhost:8000
# For production: Use your actual domain/IP, or leave empty to use nginx proxy
# Examples: https://example.com, http://192.168.1.100:8000, or empty for relative URLs
API_URL=
FRONTEND_URL=http://localhost:3000

# Environment
ENVIRONMENT=development
LOG_LEVEL=INFO

# OpenTelemetry / Grafana Cloud Configuration
# See grafana-alloy/SETUP_GRAFANA_CLOUD.md for detailed instructions

# Grafana Cloud API Key (format: glc_xxxxx...)
# Generate from Security → API Keys with Metrics/Logs/Traces write permissions
# NOTE: Same API key works across all services
GRAFANA_CLOUD_API_KEY=glc_your_api_key_here

# OTLP Gateway Configuration (Application Telemetry)
# Used for: Application traces/metrics/logs via OTLP/HTTP protocol

# OTLP Gateway Instance ID (7-digit number from OTLP endpoint configuration)
# Location: Grafana Cloud → OTLP Endpoint → Copy → Decode the authorization header
GRAFANA_CLOUD_OTLP_INSTANCE_ID=

# OTLP Endpoint URL (WITH https:// prefix)
# Format: https://otlp-gateway-prod-{region}.grafana.net/otlp
# Example: https://otlp-gateway-prod-us-west-0.grafana.net/otlp
GRAFANA_CLOUD_OTLP_ENDPOINT=

# Prometheus Remote Write Configuration (Infrastructure Metrics)
# Used for: PostgreSQL/Redis/RabbitMQ metrics via Prometheus remote_write
# NOTE: Prometheus instance ID is DIFFERENT from OTLP instance ID!

# Prometheus Instance ID (7-digit number from Connections → Prometheus)
GRAFANA_CLOUD_PROMETHEUS_INSTANCE_ID=

# Prometheus Endpoint URL (WITH https:// prefix)
# Format: https://prometheus-prod-{number}-prod-{region}.grafana.net/api/prom/push
# Example: https://prometheus-prod-36-prod-us-west-0.grafana.net/api/prom/push
GRAFANA_CLOUD_PROMETHEUS_ENDPOINT=

# Loki Instance ID (for Alloy self-monitoring logs)
# Found in Grafana Cloud portal under Loki details
GRAFANA_CLOUD_LOKI_INSTANCE_ID=

# Loki Endpoint URL (WITH https:// prefix)
# Copy the exact URL from Grafana Cloud portal - may or may not include /loki/api/v1/push path
# Example: https://logs-prod-021.grafana.net/loki/api/v1/push
GRAFANA_CLOUD_LOKI_ENDPOINT=

# Alloy Port Configuration (optional, defaults shown)
ALLOY_OTLP_GRPC_PORT=4317
ALLOY_OTLP_HTTP_PORT=4318
