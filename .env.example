# Discord Game Scheduler Environment Variables
# Copy this file to .env and fill in your values

# Docker Image Configuration
# Docker registry URL prefix (include trailing slash)
# Examples: 172-16-1-24.xip.boneheads.us:5050/, docker.io/myorg/, empty for local
IMAGE_REGISTRY=dockerhub.boneheads.us:5050/

# Image tag for built containers (default: latest)
# Examples: latest, v1.0.0, dev, staging
IMAGE_TAG=latest

# Discord Bot Configuration
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here
DISCORD_CLIENT_SECRET=your_client_secret_here
DISCORD_REDIRECT_URI=http://localhost:8000/api/v1/auth/callback

# Database Configuration
POSTGRES_USER=gamebot
POSTGRES_PASSWORD=dev_password_change_in_prod
POSTGRES_DB=game_scheduler
DATABASE_URL=postgresql+asyncpg://gamebot:dev_password_change_in_prod@postgres:5432/game_scheduler

# RabbitMQ Configuration
RABBITMQ_DEFAULT_USER=gamebot
RABBITMQ_DEFAULT_PASS=dev_password_change_in_prod
RABBITMQ_URL=amqp://gamebot:dev_password_change_in_prod@rabbitmq:5672/

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=change_this_to_random_secret_in_prod

# Frontend/API URLs (used by frontend at runtime)
# For local development: http://localhost:8000
# For production: Use your actual domain/IP, or leave empty to use nginx proxy
# Examples: https://example.com, http://192.168.1.100:8000, or empty for relative URLs
API_URL=
FRONTEND_URL=http://localhost:3000

# Environment
ENVIRONMENT=development
LOG_LEVEL=INFO

# OpenTelemetry / Grafana Cloud Configuration
# See grafana-alloy/SETUP_GRAFANA_CLOUD.md for detailed instructions
# IMPORTANT: Grafana Cloud uses DIFFERENT instance IDs for each service

# Grafana Cloud Tempo Instance ID (7-digit number from Connections → Tempo)
# Used for: Direct trace ingestion to Tempo via OTLP
GRAFANA_CLOUD_TEMPO_INSTANCE_ID=1234567

# Grafana Cloud Prometheus Instance ID (7-digit number from Connections → Prometheus)
# Used for: Prometheus remote_write authentication (infrastructure metrics)
# NOTE: This is DIFFERENT from the Tempo instance ID!
GRAFANA_CLOUD_PROMETHEUS_INSTANCE_ID=2345678

# Grafana Cloud Loki Instance ID (7-digit number from Connections → Loki)
# Used for: Loki log forwarding authentication
# NOTE: This is also DIFFERENT from Tempo and Prometheus IDs!
GRAFANA_CLOUD_LOKI_INSTANCE_ID=3456789

# Grafana Cloud OTLP Gateway Instance ID (7-digit number from OTLP gateway configuration)
# Used for: Application metrics via OTLP/HTTP protocol
# CRITICAL: This is NOT the same as Prometheus instance ID - get from OTLP endpoint configuration
# Location: Grafana Cloud → OTLP Endpoint → Copy → Decode the authorization header
GRAFANA_CLOUD_OTLP_INSTANCE_ID=4567890

# Grafana Cloud API Key (format: glc_xxxxx...)
# Generate from Security → API Keys with Metrics/Logs/Traces write permissions
# NOTE: Same API key works across all services
GRAFANA_CLOUD_API_KEY=glc_your_api_key_here

# Grafana Cloud Tempo Endpoint (gRPC with TLS on port 443)
# Format: tempo-prod-{number}-prod-{region}.grafana.net:443
# Example: tempo-prod-15-prod-us-west-0.grafana.net:443
GRAFANA_CLOUD_TEMPO_ENDPOINT=tempo-prod-15-prod-us-west-0.grafana.net:443

# Grafana Cloud Prometheus Endpoint (WITH https:// prefix)
# Format: https://prometheus-prod-{number}-prod-{region}.grafana.net/api/prom/push
# Example: https://prometheus-prod-36-prod-us-west-0.grafana.net/api/prom/push
GRAFANA_CLOUD_PROMETHEUS_ENDPOINT=https://prometheus-prod-36-prod-us-west-0.grafana.net/api/prom/push

# Grafana Cloud Loki Endpoint (WITH https:// prefix)
# Format: https://logs-prod-{number}.grafana.net/loki/api/v1/push
# Example: https://logs-prod-012.grafana.net/loki/api/v1/push
GRAFANA_CLOUD_LOKI_ENDPOINT=https://logs-prod-012.grafana.net/loki/api/v1/push

# Alloy Port Configuration (optional, defaults shown)
ALLOY_OTLP_GRPC_PORT=4317
ALLOY_OTLP_HTTP_PORT=4318
